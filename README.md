# Project 2 Report
Read the [project 2
specification](https://github.com/feit-comp30019/project-2-specification) for
details on what needs to be covered here. You may modify this template as you see fit, but please
keep the same general structure and headings.
Remember that you must also continue to maintain the Game Design Document (GDD)
in the `GDD.md` file (as discussed in the specification). We've provided a
placeholder for it [here](GDD.md).
## Table of Contents
- [Evaluation Plan](#evaluation-plan)
- [Evaluation Report](#evaluation-report)
- [Shaders and Special Effects](#shaders-and-special-effects)
- [Summary of Contributions](#summary-of-contributions)
- [References and External Resources](#references-and-external-resources)
## Evaluation Plan

### Evaluation Techniques
#### Querying Technique: Questionnaire:

A questionnaire is a helpful tool for gathering player feedback, which lets us measure specific parts of the gameplay experience. Using a combination of Likert scales and open-ended questions allows us to evaluate players' feelings regarding various aspects of the game, including controls, engagement, and overall enjoyment.

#### Why this technique?
Questionnaires are really useful for collecting data that can be measured from participants, and it's pretty easy to analyse that data to find patterns. Likert scales help us understand how players feel about different parts of the game (like, "How challenging was the puzzle-solving aspect?"), and open-ended questions let players share more detailed feedback.

#### What will participants be asked?
Participants will be requested to evaluate their experience in various categories, such as:

- How much fun did you have on a scale of 1 to 5?
- How hard was the gameplay for you?
- Usability: "How simple were the controls to grasp and operate?"
This approach is great for getting a wide view on how effectively the game achieves its objectives.

#### Observational Technique: Think Aloud + Interviews:

The Think Aloud method, along with post-play interviews, helps us see how users engage with the game and get a grasp of their thought processes. When players talk about their experiences during gameplay, we can understand the choices they make, the challenges they face, and how they feel in the moment.

#### Why this technique?
Observing is super important for getting a grasp on real behaviour instead of just what people say they do. Sometimes, players might forget some details when they are filling out a post-game questionnaire, but during the game, they might say things like "I don’t know what to do here" or "This part feels too slow." Watching how they handle different mechanics gives important insights that aren't always reflected in their written answers.
Once the observation is done, conducting an interview can help clarify certain behaviours, like asking "Why did you find that puzzle challenging?" or "What did you enjoy the most?"

#### Why this technique? 
Participants are going to:
- Complete specific tasks, like finishing a level or figuring out a tough puzzle.
- Check out the sandbox modes (if they’re available) so we can see how easy it is to navigate the exploration mechanics.
- Verbalise your thoughts while playing, sharing what you're thinking as you go along.
- After the gameplay session, I will have a short interview to discuss important moments I noticed during the session.


#### What’s the Reason for These Techniques?
By using a mix of querying and observational methods, we can gather both personal impressions and factual behavioural data. The questionnaire gives a general idea of how players feel about the game, and the Think Aloud method helps us understand how players engage with specific mechanics, revealing usability problems or design flaws that might not be clear from self-reported feedback.
Using both methods allows us to combine the numerical data from questionnaires with the insights gained from observations and interviews, providing a well-rounded understanding of the player experience.

### Participants

The participants of our game evaluation will be recruited from online and offline at the same time through the online short survey and offline quick ask. For example, some social media such as Instagram, WeChat will be considered to use, also other university students on campus could be considered to quickly ask. The short survey and quick question will be considered to conduct based on aspects from the criteria below.

The game is related to the escape room with puzzles and eerie elements, so the evaluation participants of the game are considered include:
- Participants who over the age of 16
- Participants who are interested in the puzzle game
- Participants who are interested in the escape room
- Participants who are indie game lovers
- Participants who are eerie game lovers

In addition, the participants need to be interested in 3D games, and there will be no 3D discomfort, because our game is designed in 3D mode. Also, the game will be played in a web browser, so the participants will be considered if they are familiar with the internet and PC games.

Based on the evaluation techniques we will use in the evaluation, we will recruit at least 10 participants to take part in the game querying and observation. The game project team will provide snacks benefits to participants. Also, the project team will ensure the safety of participants’ private information, the private information will not be displayed in the evaluation report.

### Data collection
<p>We will collect both quantitative and qualitative data. 
<p>Quantitative data will be collected through surveys, including player satisfaction, game difficulty, player demographics, game instructions clarity, etc. We will distribute surveys to players after they play, including multiple choice closed and open questions. We will use Google Forms to complete the survey design and data collection. 
<p>Qualitative data will be collected through observation and interviews. The data collected by observation includes players' behaviours during gameplay, navigation patterns (such as where players get stuck), and emotional reactions. The data collected by interviews include players' thoughts on the game experience, feedback, and suggestions for improvement. We will use Zoom to record the entire game, observe players' behaviours, take notes, and conduct semi-structured interviews with players after the game to obtain their feelings and feedback.

### Data analysis
<p>We will use descriptive statistics to analyse questionnaire data, such as calculating the mean and median of satisfaction and difficulty. In addition, we will use cross-analysis to compare the responses of different player groups. Indicators include player satisfaction, difficulty level, completion rate, etc. We will use tools such as Excel, SPSS, Tableau, etc., to analyse and visualise the questionnaire.

**Metrics:**
- Player satisfaction: Players' rating of their enjoyment of the game during gameplay.
- Difficulty level: Players rate the difficulty of a game during gameplay, to measure whether the game is too easy or too difficult.
- Net Promoter Score (NPS): How willing a player is to recommend the game to others.
- Game Experience Score: Ask players to rate the game in different aspects of experience, such as Visuals, Storyline, Music, and Mechanics, and calculate the average for each aspect.
- Time to learn: How quickly players can understand how the game is played.
<p>For qualitative data analysis, we used thematic analysis to identify recurring themes from interviews and observations. Based on the data we collected, we also mapped out how players played the game and what obstacles they encountered during play. We also used keywords to code qualitative data for analysis.

**Metrics:**
- Player Frustration Points: Points where players felt frustrated and confused during play.
- Time to Complete Tasks: How long did it take players to complete each level and puzzle?
- User Error Rate: The number of times a player fails during an attempt to complete a task.
- Task successful rate: The number and percentage of tasks completed by users.
- Suggestions for improvement: Players' suggestions for game improvements during interviews.

### Timeline
#### Week 12(Oct 7-13, 2024)
**October 7-10:** Design the recruitment questionnaire to recruit target participants. Design evaluation questionnaire and start the online evaluation questionnaire. Share the game with all participants to collect their initial feedback on the game experiences.  
**October 11-13:** Complete the collection of questionnaire responses. Begin the analysis of the quantitative data to identify any common problems.

#### Week 13(Oct 14-20,2024)
**October 14-17:** Conduct the observation & interviews. For online sessions, use screen sharing and recording tools to capture the entire process.  
**October 18-20:** Finish collecting the observation & interviews, then start to analyze the qualitative data to identify the player behaviours, gameplay challenges and other problems.

#### Week 14(Oct 21-27, 2024)
**October 21:** Make improvements to the game based on the analysis of data from the questionnaire and observation & interviews.  
**October 25:** Complete the game modifications and conduct internal testing to   confirm all updates have been properly saved.  
**October 27:** Finalize the game for submission.  


### Responsibilities
**Recruitment: All team members**  
All members are responsible for recruiting participants by using social media, personal networks, or other methods such as quick questions to other students on campus.

**Questionnaire Design & Distribution: Yicheng Du**  
One team member will create the evaluation questionnaire, make sure it matches the evaluation goals, and send it to the participants. This team member is also responsible for collecting and organising the responses.
 
**Interview and Observation: Fengjiao Xi & Zirong Liao**   
Two team members will conduct and record the interviews and observations. One will lead the interviews, while the other will focus on observations and recording, ensuring that all of the information has been collected.

**Data Analysis: Guoxuan Wang**   
Analyzing the data collected from questionnaires and interviews & observations. This includes identifying common problems and issues to help the game improve. 

**Evaluation Report: All team members**  
All of the team members will collaborate to write the evaluation report, summarising the main findings collected from the evaluation process and describing the improvements made to the game.

**To ensure fair contribution, our group can take the following actions:**
- Clearly define each team member’s tasks so that everyone understands their roles and responsibilities.  
- Hold regular online meetings to track overall progress and ensure the team stays on the right track.  
- Regularly evaluate individual task completion to ensure the workload is balanced and adjust tasks based on each member’s capacity.  
- Encourage communication through Wechat, so team members can quickly identify problems and support each other to keep the project on track.  


## Evaluation Report

### Findings
Through thinking out loud, interviewing and surveys, we collected some realistic player feedback highlighting the game for improvement. There were 5 participants for thinking out loud and interviews and 11 for the survey.
#### Finding 1: Lack of spooky atmosphere
From the survey results, Figure 1 shows that 44.4% of participants felt eerie rarely, and 22.2% felt it occasionally while playing the game. It indicates that the game lacks a spooky atmosphere to make players feel eerie.
<p align="center">
  <img src="Images/Figure 1.png" width="500">
</p>

<p align="center">
  <em>Figure 1 - Spooky atmosphere rate</em>
</p>
Besides, according to Player 1's feedback, the maze environment in level 3 lacked the immersive and spooky atmosphere of an escape room game, which affected their experience.

#### Finding 2: Lack of guidance
As shown in Figure 2, 45.5% of the participants said it was slow to understand how to play the game, and 27.3% said it was very slow for them. This indicates that the game lacks guidance for users on how to play it.
<p align="center">
  <img src="Images/Figure 2.png" width="500">
</p>

<p align="center">
  <em>Figure 2 - How quickly to understand how to play the game</em>
</p>
According to Player 2's reaction when playing the game, Player 2 enters the game level confused, "I don't know what to do here" and "Is there a hint?" In addition, some other players have similar feelings, which reflects the lack of guidance in our game and affects the understanding of the game.

#### Finding 3: Can’t pause or restart the game
Player 5 suggests adding more in-game UI options, such as restarting or pausing the game, especially on Level 3. When he gets lost in the maze, he wants to be able to start again from the beginning rather than continue to be trapped in the maze.

#### Finding 4: Lack of tension
As shown in Figure 3, 55.6% of participants think the game tension level is 2 out of 5, and 44.4% of participants think it’s 3 out of 5. It means that the game did not make users feel the sense of tension. 
<p align="center">
  <img src="Images/Figure 3.png" width="500">
</p>

<p align="center">
  <em>Figure 3 - Tension Rate</em>
</p>
Two players mentioned that the overall game pace felt slow and lacked the tense atmosphere typical of an escape room. 

#### Finding 5: Level 3 is too hard to play
As shown in Figure 4, 44.4% of players think that the game is extremely challenging by the end, and another 44.4% think the game has increased in difficulty significantly. This means that players think Level 3 is too difficult compared to Level 1 and Level 2, which may cause players to feel frustrated.
<p align="center">
  <img src="Images/Figure 4-1.png" width="500">
</p>

<p align="center">
  <em>Figure 4 - Game difficulty</em>
</p>
All five participants said that the third level (maze) was significantly more difficult than the first two levels, giving players a clear sense of a psychological gap. Player 1 mentioned that the ‘key’ to pass the level is hard to find, which makes the game less smooth than it should be.

### Improvements
According to the findings above, we made the following improvements to improve the user experience:

#### Improvement 1: Add a flashlight function
According to Finding 1, the game lacks a spooky atmosphere. To enhance the player's immersion and create a more bizarre atmosphere, we have added a flashlight function in the three levels. This function not only makes the game atmosphere more mysterious and tense but also facilitates players' finding the key faster, further enhancing the game experience.

#### Improvement 2: Add guidance and hints
According to Finding 2, it lacks guidance about how to play the game. To improve the player's experience, we added brief and subtle game introductions at the beginning of each level. These hints gently guide players without revealing specific mechanics, aiming to retain the game’s challenge while providing moderate support as players explore independently.

#### Improve 3: Add UI to pause and restart game
According to Finding 3, users can't pause or restart the game. We added UI features to pause and restart the current level, which can be done by using the P and Q keys on the keyboard. After each level countdown ends, the player can press the R key immediately to restart. This feature enhances the user's control, ensuring a smoother and more enjoyable gaming experience.

#### Improvement 4: Add countdown timer
According to Finding 4, we set the final 10 seconds of the countdown to display in red to increase the sense of urgency. This visual cue adds to the psychological pressure of the player, bringing a stronger sense of tension and more in line with the escape room's standard atmosphere.

#### Improvement 5: Lower the difficulty of level 3
According to Finding 5, Level 3 (maze) is very difficult. We changed the location of the key from hidden behind a wall to a visible red door and provided hints in the level instructions to reduce the difficulty and boost the player's confidence.

## Shaders and Special Effects
#### Fog
This shader is used to dynamically apply fog effects, which gives the maze a spooky, immersive feel. We saw during our assessment that participants felt there was not enough mystery or suspense in the setting. In order to improve the mood, we made this shader, which adds dynamic fog that varies according to player movement.

A single pass makes up the shader. The fog effect is determined by the distance between the player and different game objects using both vertex and fragment shaders. The fragment shader employs an exponential decay method to determine the fog density once the vertex shader determines each vertex's world position. This method efficiently increases the sense of depth and mystery by making sure that the fog gets deeper as the player gets farther away from items.

We used materials to parameterize this shader so that it could be implemented across our game environment effectively. This gives us the freedom to change the fog's colour and density at runtime as needed, guaranteeing that the effect is applied uniformly throughout the maze's various sections.

Parameters:
* _MainTex: The original texture of the object.
* _FogColor: The color of the fog.
* _FogDensity: The density of the fog, which controls how quickly the fog obscures distant objects.

The shader takes into account player movement and camera position, which ensures that the fog effect dynamically responds to changes in the player's location, creating a more immersive experience. By using these parameters, we were able to fine-tune the fog to achieve the desired atmosphere for each specific area of the game.
#### Fire
This shader is referred to the workshop material 8. The fire shader is aimed to be the environment element related to the eerie theme and provide some immersive eerie atmosphere to players in the game. This fire shader is created based on the unlit shader which means the fire effect result will not be impacted by the light. There is the Cull Off added in the shader, so that the fire could be rendered whatever the direction. The shader will be based on a fire texture, so there is the definition of the main texture, and the colour could be modified in the inspector in Unity, which is used to multiply the texture colour in the fragment shader, affecting the final colour output. This shader defines a single rendering channel, including the vertex and fragment; in the vertex part, the vertex displacement based on time change is created by sine function to simulate the wave effect of flame; and in the fragment part, get the colour from the texture and UV coordinates, then multiply it with the _Color property to get the final colour of the whole fire effect.

MainTex: the original texture used for the object.

Color: used to modify the texture color.

0.5f*sin(v.vertex.x + _Time.y): the built-in HLSL sin() function to implement the wave effect from the number of seconds elapsed since the start of the scene, and the 0.5f could half the amplitude of the waves (-0.5f to +0.5f). And the * 2.0f means the speed of the wave is doubled.

## Summary of Contributions
Fengjiao Xi: Designed the start menu for the game, created the second room’s password lock control door feature, built the background music and volume control system, implemented the pause and restart functionality and created gameplay introductions for each level, made game video, established the timetable for evaluation, conducted interview and obersvation, completed evaluation report (qualitative).

Guoxuan Wang: Designed and built the entire third room(Maze), Dynamic Fog Shader and evaluation description, scene transformation, end scene, game test, debug, game demo video, adjust the evaluation report format, GDD(Art and Studio), established the player interaction method in room 3 and part of 1 and 2. 

Yicheng Du: Designed and built the environment of the first room and second room, Asset folder size management, Wrote script for game demo video, Made Game Demo Video, Designed and distributed Evaluation Survey, Survey data analysis, Wrote Evaluation Report (Quantitative). Format and grammar check for Evaluation Report.

Zirong Liao: Designed game narrative, built the first room jigsaw puzzle, the reports interaction in the second room, and the fire effect shader in the maze (third room) and the evaluation description, made the demo video, conducted interview and obersvation.

## References and External Resources
Some of the 3D models and textures for Scenes 1 and 2 were sourced from the Unity Asset Store：https://marketplace.unity.com/packages/3d/environments/historic/horror-environment-pack-1-73982
https://assetstore.unity.com/packages/3d/props/furniture/living-room-furniture-dirty-clean-versions-291373

The background image for the start menu of the game was generated by ChatGPT.

The background images for each level's gameplay introduction were generated by ChatGPT, Text and color adjustments were then added using Meitu Xiuxiu.

The image of control instructions for the main menu were created using Canva.

The game instructions for each level use Google Translate to check grammar.

The start menu interface was designed based on a tutorial from：https://www.bilibili.com/video/BV1oL4y1P7wM/?spm_id_from=333.337.search-card.all.click&vd_source=5ddab1ce16aadea75af49322ed541d4e

The password lock-controlled door in the second level was implemented based on a referenced tutorial: https://www.youtube.com/watch?v=dVUIg8A71RE, and use ChatGPT to optimise and fix bugs, including adding test code to verify functionality.

The function of pausing and restarting the current level through the keyboard keys in the game was inspired and referenced from a tutorial :https://www.bilibili.com/video/BV1Tu4y167ru/?spm_id_from=333.337.search-card.all.click and use ChatGPT to optimize and fix bugs, including adding test code to verify functionality.

The addition of background music and volume adjustment in the game was referenced from tutorias:https://www.bilibili.com/video/BV1EL4y1j7XT/?spm_id_from=333.999.0.0&vd_source=5ddab1ce16aadea75af49322ed541d4e
https://www.bilibili.com/video/BV1FgbjeVEgX/?spm_id_from=333.999.0.0&vd_source=5ddab1ce16aadea75af49322ed541d4e
https://www.bilibili.com/video/BV1bB4y147p7/?spm_id_from=333.999.0.0
and use ChatGPT to optimise and fix bugs.

The countdown timer functionality in the game was implemented based on a tutorial from：https://www.bilibili.com/video/BV1ye4y1X7JA/?spm_id_from=333.337.search-card.all.click&vd_source=5ddab1ce16aadea75af49322ed541d4e
https://www.bilibili.com/video/BV1X54y1Z71w/?spm_id_from=333.999.0.0
ChatGPT is used to optimise the code and fix bugs that occur during development, including adding test code to verify functionality.

The room 2’s door display interactive prompt implementation is referred to a tutorial from: https://www.bilibili.com/video/BV1ja4y1o7Yh/?spm_id_from=333.880.my_history.page.click&vd_source=5ddab1ce16aadea75af49322ed541d4e

The image source of level1 was found from free image website pixel, and recreated by ourselves through Photoshop software and based on the tutorial: https://www.bilibili.com/video/BV1p5411x7Tc/?spm_id_from=333.999.0.0

The jigsaw puzzle was created referring to the tutorial from: https://www.bilibili.com/video/BV1YeegeFE6b/?spm_id_from=333.999.0.0&vd_source=b61592c29445d23187df3cf7aab7b1d6

The background music we found from freesound website: https://freesound.org/

Shader inspired from:  Gabriel Aguiar Prod. - YouTube

Dynamic Fog Inspired and referenced from [NEW v7] Dynamic Fog & Mist 2 with Built-in and URP support - Community Showcases - Unity Discussions

Fire referenced from workshop 8 and use ChatGPT to optimise and fix bugs (https://github.com/feit-comp30019/workshop-8-solution), and the image of fire is from Canvas website.

Door referenced from Free Wood Door Pack | 3D 内饰 | Unity Asset Store

Room 1 environment referenced from Unity Asset Store 
https://assetstore.unity.com/packages/3d/environments/fantasy/dark-fantasy-gigantic-environment-155143?srsltid=AfmBOooYaeieScsFiHl2BN-QYYq8FNphibM4O-zf9h3T_94OJpOvUARe
